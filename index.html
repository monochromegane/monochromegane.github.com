<!doctype html><html><head><meta name=generator content="Hugo 0.59.0"><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=author content><title>THINKING MEGANE</title><meta name=twitter:card content="summary"><meta name=twitter:site content="@monochromegane"><meta property="og:description" content="THINKING MEGANE"><meta property="og:title" content="THINKING MEGANE"><meta property="og:url" content="https://blog.monochromegane.com/"><meta property="og:image" content="https://blog.monochromegane.com/images/ogp.png"><link rel=stylesheet href=/css/reset.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Source+Code+Pro" type=text/css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Montserrat" type=text/css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/ir_black.min.css><link rel=stylesheet href=/css/text.css><link rel=stylesheet href=/css/color.css><link rel=stylesheet href=/css/layout.css><link rel=apple-touch-icon-precomposed sizes=57x57 href=/images/apple-touch-icon-57-precomposed.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=/images/apple-touch-icon-114-precomposed.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=/images/apple-touch-icon-72-precomposed.png><link rel=apple-touch-icon-precomposed sizes=144x144 href=/images/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/images/favicon.ico><link rel=canonical href=https://blog.monochromegane.com/><link href=https://blog.monochromegane.com/index.xml rel=alternate type=application/rss+xml title="THINKING MEGANE"><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async>MathJax.Hub.Config({HTML:["input/TeX","output/HTML-CSS"],TeX:{Macros:{bm:["\\boldsymbol{#1}",1],argmax:["\\mathop{\\rm arg\\,max}\\limits"],argmin:["\\mathop{\\rm arg\\,min}\\limits"]},extensions:["AMSmath.js","AMSsymbols.js"],equationNumbers:{autoNumber:"AMS"}},extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[['$','$'],["\\(","\\)"]],displayMath:[['$$','$$'],["\\[","\\]"]],processEscapes:true},"HTML-CSS":{availableFonts:["TeX"],linebreaks:{automatic:true}}});</script></head><body><div class=header><header><h1 class=logo><a href=https://blog.monochromegane.com>THINKING MEGANE</a></h1><nav><ul class=menu><li><a href=/self-introduction/>Home</a></li><li><a href=/post/>Archives</a></li><li><a href=/diary/>Diary</a></li><li><a href=http://thinking-megane.blogspot.jp/>Old Blog</a></li></ul></nav></header></div><div class=container><div class=posts><article><div class=post><header><h1><a href=https://blog.monochromegane.com/blog/2020/04/29/wsa6_sifter/>軽量なインデックス機構を用いた全文検索ツールの高速化の検討</a></h1><time><div class=day><i class="fa fa-calendar-o day-icon"></i>2020-04-29</div></time></header><div class=post-inner><p>このエントリは、<a href=https://websystemarchitecture.hatenablog.jp/entry/2019/12/11/165624>第6回 Web System Architecture 研究会 (WSA研)</a>の予稿です。</p><h1 id=概要>概要</h1><p>コマンドラインによる全文検索ツールの検索速度は、キャッシュ機構、並列化や効率的なアルゴリズムの導入によって高速化が図られている。一方で、これらのツールは、検索対象の変更や削除への追従を避けるためインデックスの採用を行なっておらず、都度検索対象に対して全探索を行う。</p><p>全文検索ツールに対するインデックス機構の課題を整理、解決し、インデックス機構を採用することができれば、検索対象を限定した、より高速な検索が可能になると考えられることから、本稿では、軽量なインデックス機構を用いた全文検索ツールの高速化の検討を行う。</p><p>提案手法では、インデックス機構に計算量と情報量の観点で効率的に扱うことのできるブルームフィルタを採用する。 まず全ての検索対象に対してブルームフィルタを作成し、結合・転置した軽量なインデックスを生成する。 次に検索対象へのクエリを行う前にインデックスから候補を取得し、全文検索ツールがこれを検索する。 検索対象の変更や削除への追従に対しては、インデックスを都度再生成する方式を採用するが、生成の高速化により利用者が負担とすることなくこれを行える。</p><p>評価では、提案手法を組み合わせることで、全文検索ツールの検索時間が短縮することを確認する。</p><h1 id=発表スライド>発表スライド</h1><p>提案手法のアーキテクチャ、ならびに具体的な実装である<a href=https://github.com/monochromegane/sifter>monochromegane/sifter</a>とこれによる軽量・高速・汎用性についての評価は発表スライドを参照のこと。</p><script async class=speakerdeck-embed data-id=b290ecaaf9d24927b528991ac76f9c89 data-ratio=1.77777777777778 src=//speakerdeck.com/assets/embed.js></script><h1 id=まとめ>まとめ</h1><p>本研究会では軽量なインデックス機構を用いた全文検索ツールの高速化の検討とその参考実装を評価した。
インデックス機構としてブルームフィルタを用いることで少ないメモリ使用量と問い合わせの高速化が達成でき、インデックス操作のツールに分離することで任意の全文検索ツールとの連携による汎用性を備えることができた。
結果として、評価では全文検索ツールとの組み合わせにおいて大幅な検索時間の短縮を確認した。</p><p>一方で、インデックス構築時間の長さを解消することは、利用者にとっての負担の改善の観点から最優先で取り組まなければならない。
ブルームフィルタにおけるハッシュ関数のボトルネックは多く研究されていることから、これを取り込むこと、また、ハッシュ関数の実行回数を減らしながら精度を保つことができるような効率的なトークン化を調べる必要がある。
実装面ではハッシュ関数の結果は再利用できるため、キャッシュ機構の導入も効果があると考える。</p><p>今後は問い合わせ自体にオーバーヘッドが発生するようなアーキテクチャとの連携も検討し、Webシステムの分野へ研究を発展させたい。</p><h1 id=発表を終えて>発表を終えて</h1><p>今回のWSA研は初のリモート開催で新しい顔ぶれも揃い、6回目ながらに新鮮な気持ちで楽しめた。
自身の発表でも、あまり気負いすぎずに頭の中で温めていたアイディアを形にして議論として発展できればいいなぐらいで臨んだ。
結果的に、まずは発表に向けて形にして評価することで長所短所が明確になり、参加者から新しいアイディアのヒントをもらうことができた。
特に、これまでプラチナサーチャーでの全文検索の高速化は、システムコールやバッファ確保の効率化やタスクの並列化といったプログラミングの実装面でのアプローチがほとんどであったため、アルゴリズムの観点からの取り組むためのとっかかりを色々議論できたと思う。
この分野は先人の知恵が大量にある分野なので、色々勉強しつつプラチナサーチャーの進化系も考えていきたい（研究会終わった後の夜中に考えていた方法がSuffix Trieと同じだと気づいて、巨人の肩に乗るべく、まずは<a href="https://www.amazon.co.jp/gp/product/4000069748/ref=as_li_tl?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=4000069748&amp;linkCode=as2&amp;tag=monochromeg03-22&amp;linkId=1f321dceee1ea3723f7c384f5f3460cb">高速文字列解析の世界――データ圧縮・全文検索・テキストマイニング (確率と情報の科学)</a>を注文した）</p><p>このような普段の研究から少し離れた取り組みであっても、定期的に発表を促されることで形にすることができるのはとても大切で、やりっぱなし学びっぱなしではなく一つの区切りまで考え実装することで次回以降の研究への糧となる。
Webシステムアーキテクチャに関する運用知見を研究的アプローチで前進させること興味がある方は次回開催の参加を検討してみてはいかがでしょうか。</p><ul><li><a href=https://websystemarchitecture.hatenablog.jp/entry/2017/11/16/182041>Web System Architecture研究会の発足と挨拶</a></li><li><a href=https://websystemarchitecture.hatenablog.jp/purpose>研究会の目的</a></li></ul><p>＊次回は9月の後半のようです。</p></div><footer class=tag><i class="fa fa-tags tag-icon"></i><ul><li><a class=tag-link href=/tags/wsa%E7%A0%94>WSA研</a></li></ul><div class=clear></div></footer></div></article><article><div class=post><header><h1><a href=https://blog.monochromegane.com/blog/2020/03/11/dynamic-gamma-poisson/>Dynamic Gamma-Poisson modelを試す</a></h1><time><div class=day><i class="fa fa-calendar-o day-icon"></i>2020-03-11</div></time></header><div class=post-inner><p><a href=https://speakerdeck.com/monochromegane/fukuokago15-adwin-exphist>以前のADWINのように</a>、変化する環境において適応的に振る舞うための仕組みについて調べる中で以下の論文で紹介されていたDynamic Gamma-Poissonモデルについてベイズ推定の理解を兼ねて試してみたのでメモ。</p><ul><li><a href=http://www2009.wwwconference.org/proceedings/pdf/p21.pdf>Agarwal, Deepak, Bee-Chung Chen, and Pradheep Elango. &ldquo;Spatio-temporal models for estimating click-through rate.&rdquo; Proceedings of the 18th international conference on World wide web. 2009.</a></li></ul><h1 id=ベイズ推定>ベイズ推定</h1><p>統計モデルとは</p><blockquote><p>「ある確率変数$Y$の実現値$y=\{y_1,y_2,..,y_n\}$から、$Y$が本来従う確率分布（真の分布）を推定するためのもの」</p></blockquote><p>とされている。
ベイズ推定はベイズの定理に基づいて観測したデータと過去の情報からデータの本来従う確率分布を推定する。</p><p>ベイズの定理 $p(\theta \mid y) \propto p(y \mid \theta)p(y)$ に対して右辺（尤度x事前確率）が具体的な確率値でかつ分布が数え上げられるような単純な場合は理解は比較的容易。</p><ul><li><a href=https://mathtrain.jp/bayesinfer>ベイズ推定の簡単な例と利点</a></li></ul><p>一方で、データの確率分布がパラメタによって変動するような確率質量関数や確率密度関数に従う場合、<strong>そのパラメタ（母数）の分布を推定する</strong>ことで、（分布の種類が分かっていればパラメタの推定が分布の特定になるので）データの従う確率分布を推定できる。
この時、データの分布の種類に応じた事前分布を選択することで事後分布が求めやすくなる（共役事前分布）。</p><p>このようなパラメタを推定するようなベイズ推定に関しては以下の資料が理解の助けになる。</p><ul><li><a href=https://www.slideshare.net/miyoshiyuya/ss>ベイズ統計学入門</a></li><li><a href=https://mutopsy.net/pdf/note_sta_bayesian01.pdf>ベイズ推定の初歩 二項分布を例に</a></li><li><a href=https://ocw.mit.edu/courses/mathematics/18-443-statistics-for-applications-spring-2015/lecture-notes/MIT18_443S15_LEC8.pdf>Parameter Estimation Fitting Probability Distributions Bayesian Approach</a></li></ul><p>以下、ポアソン分布のパラメタ推定を例にベイズ推定の理解を深め、これを拡張したDynamic Gamma-Poissonモデルを説明する。</p><h2 id=ポアソン分布>ポアソン分布</h2><p>単位時間に平均$\lambda$回起きる事象が単位時間に$k$回発生する分布。</p><p>平均が$\lambda$のポアソン分布を表す確率質量関数は\[P(X=k)=\frac{\lambda^{k}}{k!}\cdot e^{-\lambda}\]であり平均$E[X]$は$\lambda$となる。</p><h2 id=ポアソン分布のパラメタ-lambda-を推定する>ポアソン分布のパラメタ$\lambda$を推定する</h2><p><a href=https://ocw.mit.edu/courses/mathematics/18-443-statistics-for-applications-spring-2015/lecture-notes/MIT18_443S15_LEC8.pdf>Parameter Estimation Fitting Probability Distributions Bayesian Approach</a>のp.19の例を元に説明する。</p><ul><li>$X_1,X_2,..,X_n$ $i.i.d.$ $Poisson(\lambda)$<ul><li>単位時間に平均$\lambda$回起きる分布に従う確率変数の実現値を$n$回観測</li><li>$X_i$は0以上の整数値</li></ul></li><li>$lik(\lambda) = f(x_1, x_2,..,x_n \mid \lambda) = \prod_{i=1}^n f(x_i \mid \lambda)$<ul><li>尤度はパラメタ$\lambda$において観測した値が得られる確率（この場合は上述したポアソン分布の確率質量関数$P(X=x_i)$）</li><li>複数回観測した場合はその同時確率</li></ul></li><li>$\lambda \sim Gamma(\alpha, \nu)$<ul><li>事前分布、つまり、$\lambda$が「ある値（の範囲）」を取る確率</li><li>今回は事前分布にガンマ分布を仮定する（ポアソン分布の共役事前分布）</li><li>$\pi(\lambda)$</li></ul></li><li>$\pi(\lambda \mid x) \propto lik(\lambda) \times \pi(\lambda)$<ul><li>ベイズの定理より事後分布は尤度x事前分布で求められる</li><li>$P(x\mid\lambda)P(\lambda)$なので、$\lambda$の分布から観測値$x$が得られる確率と言える</li></ul></li><li>$Gamma(\alpha^*,\nu^*)$ with $\alpha^*=\alpha+\sum_{1}^n x_i$ and $\nu^*=\nu+n$<ul><li>上を計算すると事後分布は観測された$x$の値の合計を$\alpha$に、観測回数$n$を$\nu$に加えたものをパラメタとするガンマ分布とみなせる</li><li>観測したデータから$\lambda$の分布（確率変数が従う確率分布（分布の種類はわかっているのでそのパラメタ））を推定した</li></ul></li></ul><h1 id=dynamic-gamma-poissonモデル>Dynamic Gamma-Poissonモデル</h1><p>論文3.1によれば、クリック数$c$、閲覧数$v$、CTRを$\theta$としたときに、</p><ul><li>平均$v\theta$(=$\lambda$)である$Poisson(\lambda)$に従い観測されたクリック数から</li><li>$\theta$の事前分布に平均が$\alpha/\gamma$、分散が$\alpha/\gamma^2$である$Gamma(\alpha,\gamma)$を仮定して</li><li>$\theta$の事後分布を$Gamma(\alpha+c,\gamma+v)$として得られるとしている</li></ul><p>ただし、実際はこの推定は$\lambda$の推定であるため、CTRとして考えるために以下のように考える。</p><ul><li>$\lambda$を1閲覧($v$)の間の平均回数と考える（つまり$\lambda=1*\theta$）</li><li>1閲覧に該当する期間を閲覧数分、観測した</li><li>これによって推定された$\lambda$は$\theta$と等しくなる</li></ul><p>ここで、$Gamma$のパラメタはこれまでのクリック総数と閲覧総数であることから、$\lambda$の値が変化する場合に過去のデータに引きづられてしまい、速やかな追従を行うことができない。
論文では、Dynamic Gamma-Poissonモデルとして過去の観測結果に対する割引の概念を導入することでこれを解決する。
実現はシンプルで、割引率$(0&lt; \delta \leq1)$を導入し、事後分布を$Gamma(\delta\alpha_{t-1}+c_t,\delta\gamma_{t-1}+v_t)$のように求める。
これによって累積された過去の総数を減らし、直近のデータに重み付けが行われる。
論文中では0.95から1の間ぐらいが良い結果を得たとしている。</p><p>以下、実際に同じ条件での$\lambda$の推定を通常のGamma-PoissonモデルとDynamic Gamma-Poissonモデルで行ったものを比較する。
評価では、CTRが0.4のアイテムに対して1ステップごとに7回の閲覧が行われた際のクリック数を観測データとした。
また、20ステップ目にCTRが半分の0.2になっている。</p><p><img src=/images/2020/03/dgp.gif alt=dgp></p><p>評価期間内では通常の推定の期待値0.3程度までの追従に止まったが、Dynamicな手法ではより早く実際のCTRである0.2に近づけたことが分かる。</p><h1 id=動作確認用のコード>動作確認用のコード</h1><p>動作確認用のコードは以下にある．</p><ul><li><a href=https://gist.github.com/monochromegane/942444fdf89735e7e273d5c7126df449>dgp.py</a></li></ul><p>このような感じで利用できる．</p><pre><code class=language-sh>python dgp.py --lambda_ 0.4 --view 7 --delta 0.9
</code></pre></div><footer class=tag><i class="fa fa-tags tag-icon"></i><ul><li><a class=tag-link href=/tags/></a></li></ul><div class=clear></div></footer></div></article><article><div class=post><header><h1><a href=https://blog.monochromegane.com/blog/2020/03/03/minimum-start-for-online-event/>勉強会をオンライン配信するための必要最小限な環境構築</a></h1><time><div class=day><i class="fa fa-calendar-o day-icon"></i>2020-03-03</div></time></header><div class=post-inner><p>昨今の状況だけでなく、多様な働き方やコミュニティ（とそこで得られる情報）に接する機会を増やすためにも今後、オンライン勉強会は広がっていくと思います。
Fukuoka.goでも今回、初めて勉強会のオンライン配信を実施しました。
同様のモチベーションを持つイベントの主催者に向けて、勉強会をオンライン配信するためにやった最小限の環境構築についてまとめておきます。</p><h1 id=想定する環境>想定する環境</h1><p>オンライン勉強会には、Google Hangouts Meetなどのビデオ会議のWebサービスとYouTubeライブ配信を用います。
勉強会には、配信を行う運営者、発表を行う登壇者、発表を聞く参加者がいるとします。</p><p>登壇者はビデオ会議の画面共有によって各々のPCから発表を行います。
運営者はビデオ会議の画面と音声をYouTubeでライブ配信します。
参加者はYouTubeのライブ配信を視聴、必要に応じてコメントします。</p><p><img src=/images/2020/03/architecture.jpg alt=architecture></p><p>ビデオ会議とライブ配信のWebサービスを利用することで、Macに二つオープンソースソフトウェアをインストールするだけで、最低限の配信環境環境が整ってしまいます。ありがたい時代になりました。インターネット万歳。</p><h1 id=手順のサマリ>手順のサマリ</h1><pre><code>1. YouTubeアカウントを作成（要Googleアカウント）
2. YouTubeライブ配信を作成（初回は24時間程度待つ必要あり）
3. 配信に必要なソフトウェアをダウンロードしてインストール
  - [OBS Studio](https://obsproject.com/download)
  - [BlackHole](https://github.com/ExistentialAudio/BlackHole)
4. YouTubeエンコード配信を選択し、ストリーミングキーを発行
5. OBSにストリーミングキーを設定
6. OBSで音声ミキサーとしてBlackHoleを追加（マイク2）
  - 必要に応じてマイク(1)はミュート
7. OBSでソースにウィンドキャプチャでMeetを実行するブラウザを追加
  - ウィンドウキャプチャに必要なウィンドウが出ない場合はmacOSXのセキュリティとプライバシーでOBSが画面収録を許可されているか確認
8. macOSXの音声出力をBlackHoleに変更
9. OBSで配信開始をクリック
  - しばらく待つとYouTube側の配信ボタンが押せるようになる
10. YouTubeの配信開始をクリック
11. 配信する
  - 画面がチラつく場合はOBS Studioがウィンドウキャプチャしている画面の前面に配置されていないか確認
12. YouTubeの配信終了をクリック
13. OBSの配信終了をクリック
</code></pre><h1 id=手順の詳細>手順の詳細</h1><p>以下、上記手順についての詳しい説明です。</p><p>なお、配信のための環境構築には配信の専用機を用意するのが一番楽でしょう。
以下、配信の専用機としてMacBook Pro (15-inch, 2019) macOS Catalina(10.15.3)を用いています。</p><p>また、配信に利用するPCは有線によるネットワーク接続をおすすめします。</p><h2 id=youtubeアカウントを作成>YouTubeアカウントを作成</h2><p>持っていなければ作成しましょう。Googleのアカウントが必要です。</p><h2 id=youtubeチャンネルを作成>YouTubeチャンネルを作成</h2><p>ライブ配信をするチャンネルを作成しましょう。</p><h2 id=youtubeライブ配信を作成>YouTubeライブ配信を作成</h2><p><code>ライブ配信を開始</code> ボタンからライブ配信を登録します。
初めてライブ配信を登録する場合は、<strong>24時間待つ必要がある</strong>ため、余裕を持って登録しましょう。</p><p><img src=/images/2020/03/youtube_start.jpg alt=start></p><p><code>エンコーダ配信</code> タブから、タイトル、公開範囲、カテゴリを指定します。
作成後、ライブ配信のための <code>ストリームキー</code> が取得できるため控えておきます。</p><h2 id=配信に必要なソフトウェアをダウンロードしてインストール>配信に必要なソフトウェアをダウンロードしてインストール</h2><p>ライブ配信をサポートしてくれる <code>OBS Studio</code> と仮想オーディオデバイスを作成するための <code>BlackHole</code> をインストールします。</p><ul><li><a href=https://obsproject.com/download>OBS Studio</a></li><li><a href=https://github.com/ExistentialAudio/BlackHole>BlackHole</a></li></ul><p>＊BlackHoleはmacOSから出力される音声（今回の場合ではビデオ会議の音声）をYouTubeで配信するために利用します。配信機がWindowsであればデスクトップ音声をキャプチャできるそうなのですがmacOSではできないため、BlackHoleで仮想オーディオデバイスを作成して回避します。</p><p>以下、OBS Studioは <code>24.0.6 (64 bit)</code>、BlackHoleは <code>v0.2.6</code>を利用した場合の手順となります。</p><h2 id=obs-studioでストリームキーの設定>OBS Studioでストリームキーの設定</h2><ol><li>設定 -&gt; 配信</li><li>サービスにYouTube/YouTube Gamingを選択</li><li>サーバーにPrimary YouTube ingest serverを選択</li><li>ストリームキーに先ほど控えておいた値を入力</li></ol><h2 id=obs-studioで音声の設定>OBS Studioで音声の設定</h2><ol><li>設定 -&gt; 音声</li><li>マイク音声 2にBlackHole 16chを選択</li></ol><p>必要に応じてマイク音声(1)は無効、もしくは配信時にミュートしておくと余計な音声が入らずに便利。</p><h2 id=obs-studioで配信ソースの設定-待ち受け画面>OBS Studioで配信ソースの設定（待ち受け画面）</h2><p>配信の準備中やビデオ会議の画面を表示したくない時の待ち受け画像のシーンを準備しておくと便利。</p><ol><li>シーンを選択し、画像ソースを追加</li><li>新規作成からOKで画像プロパティが表示される</li><li>画像ファイルを選択してOK</li></ol><h2 id=obs-studioで配信ソースの設定-ビデオ会議画面>OBS Studioで配信ソースの設定（ビデオ会議画面）</h2><p>タブブラウザの場合、ビデオ会議のウィンドウは分けておくと便利。</p><ol><li>待ち受け画面とシーンを分けるのでシーンを追加</li><li>新しいシーンを選択し、ウィンドウキャプチャソースを追加</li><li>新規作成からOKでウィンドウキャプチャプロパティが表示される</li><li>ビデオ会議のウィンドウを選択</li></ol><p>ウィンドウに起動中のアプリが表示されない場合は、macOSの設定-&gt;セキュリティとプライバシーから画面収録に対してOBSの許可がチェックついているか確認のこと。</p><h2 id=obs-studioの設定確認>OBS Studioの設定確認</h2><p>ここまででOBS Studioの下部は以下のような設定になっているはずです。</p><p><img src=/images/2020/03/obs_studio.jpg alt=obs></p><p><code>シーン</code>は静止画用、<code>シーン2</code>がビデオ会議の画像用です。
僕の環境ではシーン2に、ビデオ会議の画面とTwitterの画面を二つ並べて表示するようにしたので、ウィンドウキャプチャのソースが2つあります。</p><p>また、音声ミキサーは<code>マイク2</code>をミュートにすれば、ビデオ会議の音声が配信に乗らなくなります。</p><h2 id=macosの音声出力をblackholeに変更>macOSの音声出力をBlackHoleに変更</h2><p>ビデオ会議の音声をBlackHole経由でOBS Studioに渡せるようにします。
macOSの設定-&gt;サウンドから出力タブでBlackHoleを選択します。</p><ul><li>＊macOSの音声出力をBlackHoleに変更するとmacOSからは音声が聞こえなくなります。音声も聞きたい場合は、macOSのユーティリティ-&gt;オーディオ装置から複数出力装置を作成し、MacBookのスピーカーとBlackHoleに同時に出力できるデバイスを作成してください。そしてmacOSの音声出力をBlackHoleではなく、複数出力装置を選びます（OBS StudioはBlackHoleの入力側を利用するのでそのままで良いです）。
Ref: <a href=https://github.com/ExistentialAudio/BlackHole/wiki/Multi-Output-Device>https://github.com/ExistentialAudio/BlackHole/wiki/Multi-Output-Device</a>
手元では、複数出力装置について外部オーディオ装置との相性が悪かったため利用していません（配信の専用機なのでここから音が聞こえる必要はなく現在のところBlackHoleを直接利用で困ってない）
もし、外部オーディオ装置も含めて高度な設定が必要な場合は、LadioCastなどのソフトウェアミキサーの導入を検討してください（そして良いやり方があれば教えてください）</li></ul><h2 id=obs-studioから配信開始>OBS Studioから配信開始</h2><p>OBS Studio側で配信開始ボタンをクリック。
しばらくするとYouTube側の管理画面に配信のプレビューが表示され、YouTube側のライブ配信開始ボタンがアクティブになる。</p><h2 id=youtubeから配信開始>YouTubeから配信開始</h2><p>YouTube側でライブ配信を開始ボタンをクリック。
30秒程度で参加者にライブ配信が見えるようになる。</p><h2 id=配信中>配信中</h2><p>YouTuberとして頑張る。適宜シーンの切り替えやマイクのミュートなど操作が必要です。</p><ul><li>ウィンドウキャプチャの画面がチラつく場合は、OBS Studioがキャプチャするウィンドウの前面に表示されていないかを確認しましょう。
僕の環境では、OBS Studioをこれらより背面に持っていくことでチラツキが解消しました。</li></ul><h2 id=youtubeで配信終了>YouTubeで配信終了</h2><p>YouTube側でライブ配信を終了する。</p><h2 id=obs-studioで配信終了>OBS Studioで配信終了</h2><p>OBS Studio側で配信終了ボタンをクリック。</p><h2 id=配信後>配信後</h2><p>ライブ配信の動画は自動でアーカイブとして公開されます。
アーカイブに残さない場合は、YouTubeのライブ配信の管理画面から削除が必要です。
この辺りは事前に発表者に了承をとっておく必要があると思います。</p><p>動画の編集もYouTubeの管理画面から行えるため、必要に応じて無言の時間などを取り除くことが可能です。</p><p><img src=/images/2020/03/youtube_editor.jpg alt=editor></p><h1 id=初のオンライン配信を終えての感想など>初のオンライン配信を終えての感想など</h1><p>これまでFukuoka.goでは、<a href=https://blog.monochromegane.com/blog/2019/02/23/remote-study-group/>他の地域のコミュニティと拠点間をリモート接続する取り組みは既におこなっており</a>、これをライブ配信に乗せるだけだろうと思っていましたが、それなりに準備や実行で大変だった点や反省点もありました。</p><h2 id=よかった点>よかった点</h2><ul><li>高速な配信環境を準備できた（配信のネットワーク環境は結構重要。家のネットワーク（特に上り）が遅いと配信できないので注意）</li><li>事前に発表者にアーカイブ残すことについてきちんと承諾をもらった</li><li>事前にOBS Studioの設定を終わらせて、当日は起動するだけでよかった</li><li>登壇者はイベント30分前にビデオ会議に集合して画面共有やミュートのルールなどの手順をおさらいした<ul><li>特にGoogle Hangouts Meetの場合、ウィンドウ単位の共有後にプレゼンテーション再生すると画面が真っ暗になる点など</li><li>参考: <a href="https://support.google.com/meet/answer/7290456?hl=ja">ウィンドウを共有すると、プレゼンテーションが空白で表示される</a></li></ul></li><li>事前にオンライン配信のノウハウを仕入れることができた<ul><li><a href=https://youtu.be/87r2N65hm3I>オンラインイベントのノウハウあれこれ</a></li><li>Twitterのタイムラインを横に表示するなども参考にさせていただいた</li></ul></li><li>発表の始まりと終わりはある程度、司会者も音声オンで入っておき盛り上がりを演出できた</li><li>静止画のシーンを用意することでビデオ会議の切り替えなどのもたつきがあっても配信上は見せないようにできた</li></ul><h2 id=反省点>反省点</h2><ul><li>配信準備した環境と配信を行った環境が違ったので設定周りで当日焦った（リハーサル大切&hellip;）<ul><li>画面のチラつき（途中で解消してよかった）</li><li>画面サイズの違い</li></ul></li><li>発表中の登壇者に対して、連絡をとる手段を用意していなかった<ul><li>打鍵音が気になる、発表時間過ぎてるなどを伝えようとするとそれも配信に乗ってしまう</li></ul></li><li>発表中の登壇者がコメントの盛り上がりなどを見るのが難しかった</li><li>Twitterの画面を共有していたが自動更新にならないので手動で更新する手間がかかった</li></ul><p>などです。</p><p>今回の構成は、登壇形式の勉強会において、参加者が視聴する際の敷居を低くすることを目的に設計しました。
参加者にとっては個別のビデオ会議のWebサービスのアカウントが不要ですし、運営者にとってもビデオ会議のアクセス制限や人数制限を気にする必要がありません。
もちろん、勉強会の方式（双方向のディスカッション）によっては他のやり方が最適な場合もあると思います。
そのような場合についてのノウハウも共有してもらえれば嬉しいです。</p><ul><li><a href=https://youtu.be/BIe67vUCnIM>Fukuoka.go#15 + 鹿児島Gophers</a></li></ul></div><footer class=tag><i class="fa fa-tags tag-icon"></i><ul><li><a class=tag-link href=/tags/%E5%8B%89%E5%BC%B7%E4%BC%9A>勉強会</a></li></ul><div class=clear></div></footer></div></article><article><div class=post><header><h1><a href=https://blog.monochromegane.com/blog/2020/01/30/memo-getting-start-reinformation-learning-algorithm/>『強化学習アルゴリズム入門』第1章〜第2章の学習メモ</a></h1><time><div class=day><i class="fa fa-calendar-o day-icon"></i>2020-01-30</div></time></header><div class=post-inner><p>書籍『強化学習アルゴリズム入門』について第1章〜第2章を読んでの学習メモをまとめる。</p><p>強化学習は一連の行動によって得られる報酬を最大化する行動基準を学習する。
そのために、「一連の行動」を状態の遷移と捉えて、その状態に対する価値（状態価値）を求める。
また、各状態には取りうる複数の行動があると考え、その状態の価値を、これらの行動ごとの価値（行動状態価値）から求める。</p><h2 id=強化学習アルゴリズムごとの価値関数>強化学習アルゴリズムごとの価値関数</h2><p>はじめに、第1章〜第2章までで学ぶ各強化学習アルゴリズムの状態価値関数と行動状態価値関数をまとめておく。</p><table><thead><tr><th></th><th>状態価値関数 $V(S_t)$</th><th>行動状態価値関数 $Q(S_t,a_t)$</th></tr></thead><tbody><tr><td>動的計画法</td><td>$V(S_t)=\sum_{a} \pi (a \mid S_t) Q(S_t, a_t) \tag{1}\label{1}$</td><td>$Q(S_t,a_t)=r_{t+1}+\gamma V(S_{t+1}) \tag{2}\label{2}$</td></tr><tr><td>モンテカルロ法</td><td>$V(S_t)=\sum_a Q(S_t,a_t) \frac{N_a}{N} \tag{3}\label{3}$ $V(S_t)=max\{Q(S_t,a_t)\} \tag{4}\label{4}$</td><td>$Q(S_t,a_t)=\frac{1}{m}\sum_{i=1}^{m} G^i(S_t,a_t) \tag{5}\label{5}$ $Q(S_t,a_t) \gets Q(S_t,a_t)+\alpha[G(S_t,a_t)-Q(S_t,a_t)] \tag{6}\label{6}$ where $G(S_t,a_t)=r_{t+1}+\gamma G(S_{t+1},a_{t+1}) \tag{7}\label{7}$</td></tr><tr><td>TD(0)法</td><td>同上</td><td>$Q(S_t,a_t) \gets Q(S_t,a_t)+\alpha[\{r_{t+1}+\gamma(Q(S_{t+1},a_{t+1}))\}-Q(S_t,a_t)] \tag{8}\label{8}$</td></tr></tbody></table><p>以下、各強化学習アルゴリズムについて捕捉する。</p><h2 id=動的計画法>動的計画法</h2><p>確率型ベルマン方程式\eqref{1}に従い行動状態価値を更新する手法。
ここで$\pi (a \mid S_t)$は行動確率であり、方策$\pi$に従い状態$S$において行動$a$を選択する確率を示す。
また、$Q(S_t, a_t)$は行動状態価値関数であり\eqref{2}によって求める。</p><p>行動状態価値関数\eqref{2}は状態$S$において行動$a$によって遷移する状態$S$で得られる報酬$r$とその状態の価値$V$の和によって求められる。
ここで$\gamma$は価値の割引率である。</p><p>書籍ではこの価値の求め方を「将来に対する平均（$X_{t+1}$ から$X_N$ までの平均$\bar{X}$）の逐次的な計算」との類似性によって説明している。
\[
\bar{X_t}=\bar{X}_{t+1}+\frac{1}{N-t}(X_{t+1}-\bar{X}_{t+1})<br>=(\frac{1}{N-t})X_{t+1}+(\frac{N-t-1}{N-t})\bar{X}_{t+1}
\]</p><p>動的計画法における学習プロセスは以下のようになる。</p><h3 id=方策反復法>方策反復法</h3><pre><code>1. 状態価値が収束するまで以下のステップを繰り返す
2. 各状態において方策(行動ごとの行動状態価値Qによるepsilon-greedyなど)に従い行動確率を求める
3. 各状態において行動ごとの行動状態価値を遷移後の状態の報酬と状態価値から求める
4. 2と3よりその状態の状態価値を更新する
5. 全ての状態で状態価値の更新が終わったら次の学習イテレーションへ
</code></pre><h3 id=価値反復法>価値反復法</h3><p>$\epsilon$-Greedyの探索率$\epsilon=0$の場合は方策に依存しない価値反復法となる。</p><pre><code>1. 状態価値が収束するまで以下のステップを繰り返す
2. 各状態において行動ごとの行動状態価値を遷移後の状態の報酬と状態価値から求める
3. 2のうち最大の値で状態の状態価値を更新する
4. 全ての状態で状態価値の更新が終わったら次の学習イテレーションへ
</code></pre><h2 id=モンテカルロ法>モンテカルロ法</h2><p>動的計画法は環境情報が既知の場合に使えるが未知の場合、環境も含めて手探りで行動基準を学習しなければならない。
そのような場合はモンテカルロ法を利用する。</p><p>モンテカルロ法の価値の学習には総報酬$G$\eqref{7}を用いる。
総報酬は一連の行動が終わり得た報酬$r$から遡って状態（と行動）に対して価値を算出する。
書籍ではこの価値の求め方も「将来に対する平均」で表現している（tの値をt+1から求める）。</p><p>なお、行動状態価値は\eqref{5}により試行数$m$での平均とする（学習ステップにおいて\eqref{3}\eqref{4}\eqref{6}は使わない）。</p><p>モンテカルロ法における学習プロセスは以下のようになる。</p><pre><code>1. 任意の試行回数だけ以下のステップを繰り返す
2. 最初の状態から報酬rを得るまで以下のステップを繰り返す
3. 現在の状態において方策(行動ごとの行動状態価値Qによるepsilon-greedyなど)に従い行動aを決定する
4. 次の状態へ遷移
5. 報酬を得たら行動を遡り各状態（と行動）の総報酬Gを求め、試行回数での平均によって行動状態価値Qを更新する
</code></pre><h2 id=td-0-法>TD(0)法</h2><p>モンテカルロ法は総報酬$G$を求めるために必ず一連の行動を終える必要がある。
そこで、逐次的に行動状態価値を求めることでモンテカルロの探索行為を効率的に行おうとするTD(0)法がある。</p><p>TD(0)法では、行動状態価値$Q$を\eqref{8}によって求める。
これは、モンテカルロ法の行動状態価値関数\eqref{5}を逐次計算表現にした\eqref{6}の$G(S_t,a_t)$を動的計画法の行動状態価値関数\eqref{2}で置き換えたものと考えることができる。
つまり、総報酬$G$を$t+1$の報酬と状態価値で近似するものである。</p><p>TD(0)法における学習プロセスは以下のようになる。</p><h3 id=sarsa-方策反復法>SARSA （方策反復法）</h3><pre><code>1. 任意の試行回数だけ以下のステップを繰り返す
2. 最初の状態から報酬rを得るまで以下のステップを繰り返す
3. (S) 現在の状態において方策(行動ごとの行動状態価値Qによるepsilon-greedyなど)に従い行動aを決定、Q(S_t,a_t)を得る
4. (A) 行動aに従い状態を遷移
5. (R) 遷移後の状態で報酬rを得る（得られない時もある）
6. (S) 遷移後の状態において方策に従い行動aを決定、Q(S_t+1,a_t+1)を得る
7. (A) 行動aに従い状態を遷移
8. 5の報酬rと3と6の行動状態価値QでQ(S_t,a_t)を更新
</code></pre><h3 id=q学習-価値反復法>Q学習 （価値反復法）</h3><p>$Q(S_{t+1},a_{t+1})$を$max\{Q(S_{t+1},a_{t+1})\}$で求めることで方策に非依存とする。</p><pre><code>1. 任意の試行回数だけ以下のステップを繰り返す
2. 最初の状態から報酬rを得るまで以下のステップを繰り返す
3. 現在の状態においてランダムに行動aを決定、Q(S_t,a_t)を得る
4. 行動aに従い状態を遷移
5. 遷移後の状態で報酬rを得る（得られない時もある）
6. 遷移後の状態においてランダムに行動aを決定、Q(S_t+1,a_t+1)は全行動状態価値のうち最大の値とする
7. 行動aに従い状態を遷移
8. 5の報酬rと3と6の行動状態価値QでQ(S_t,a_t)を更新
</code></pre><h1 id=学習書籍>学習書籍</h1><iframe style=width:120px;height:240px marginwidth=0 marginheight=0 scrolling=no frameborder=0 src="https://rcm-fe.amazon-adsystem.com/e/cm?ref=qf_sp_asin_til&t=monochromeg03-22&m=amazon&o=9&p=8&l=as1&IS2=1&detail=1&asins=427422371X&linkId=e3e609dd57189d2dd910abc95a46bbd0&bc1=ffffff&lt1=_blank&fc1=333333&lc1=0066c0&bg1=ffffff&f=ifr"></iframe></div><footer class=tag><i class="fa fa-tags tag-icon"></i><ul><li><a class=tag-link href=/tags/%E5%BC%B7%E5%8C%96%E5%AD%A6%E7%BF%92>強化学習</a></li></ul><div class=clear></div></footer></div></article><article><div class=post><header><h1><a href=https://blog.monochromegane.com/blog/2020/01/26/exhalation-and-coherently-fittable-system/>テッド・チャン『息吹』と「なめらかなシステム」</a></h1><time><div class=day><i class="fa fa-calendar-o day-icon"></i>2020-01-26</div></time></header><div class=post-inner><p>昨年末にあんちぽさんからお勧めされていた、テッド・チャン『息吹』をようやっと読み終えた。</p><p>本書を通して所属する研究所のビジョンである「なめらかなシステム」の世界観について理解が深まったように感じたのでメモしておく。</p><p>本書は表題の「息吹」を含むSFの短編集である。全部で9編の作品から成る。
多くの作品は、現在の地球の水準より進んだ技術とそれを扱う知性体が登場する。
登場人物は世界を左右するような運命や世界をまたにかける使命など帯びていないどこにでもいるような人々であることが多い。
（『イブの時間』などが雰囲気としては近いかもしれない）
彼ら彼女らはただ、彼らにとっては当然となった新しい技術に起因する変化に彼ら彼女らなりに適応していく。
この技術と変化の設定がリアリティを持っているがゆえに、読者はそう遠くない未来に地球の技術水準が到達した後に発生するであろう変化に対して自分ならばどうするかと没入感を持って作品にのめり込む。</p><p>さて研究所のビジョンとしての「<a href=https://rand.pepabo.com/papers/dicomo2018-proceeding-antipop.pdf>なめらかなシステム</a>」であるが、情報システムとこれを取り巻く要素が互いに影響を及ぼし合う総体としてのシステム観である。
これに対し、以前に「<a href=/blog/2019/03/01/the-things-coherently-fittable-system-looks-ahead-to>なめらかなシステムの見据えるもの。個人的考察</a>」のエントリで、なめらかであることの必然性を問いの発端としてその未来像を検討した。
その際は、「個性」というキーワードで、システムと接する要素が多様かつ継続的に変化することを前提としてこれにシステム側が適応することがこの必然性につながると考えた。
いわば、システムを利用する要素（特に人間）が主でシステムが従のような捉え方であった。
ここで、「なめらかなシステム」自体は、要素間に主従の考えは導入していないにも関わらず、個人の感性としてバイアス的にこのような考えが導入されてしまったと思う。
そのためか、互いに影響を及ぼし合うと言いつつも、システムの利用側としては、そのシステムとそのタスクに限定された影響（例えば、情報要求の前進、あるいは具体化など）程度に収まると考えていた。</p><p>一方で、今回の読書を通して、一段階規模を広げたシステム観に思い至れた。
もし、個別のシステムを超えて、全体としての技術水準やパラダイムのような圧倒的な変化があれば、主従が変化し、そのような技術に追従するために人生観や哲学でさえも（好むと好まざるに関わらず）そこに適応しなければならない。
「なめらかなシステム」においては、ある意味、これまでであれば受け手側が制御不能なレベルでの変化をも適応していきたい。</p><p>今回、単一のシステムから技術、パラダイムの変化にまで拡大してシステム観を適用して考える契機になったと思う。
僕にとって発想を広げるのはSFを読む醍醐味であり、今回の作品は大いにこれが達成されて満足している。
興味を持った方は是非読んで欲しい。
短編集なので1時間程度の空きがあれば少しづつ読み進めることができると思う。
代表作の「息吹」だけでも読んで欲しいし、「ソフトウェア・オブジェクトのライフサイクル」「偽りのない事実、偽りのない気持ち」「オムファロス」「不安は自由のめまい」もお勧めしたい。</p><iframe style=width:120px;height:240px marginwidth=0 marginheight=0 scrolling=no frameborder=0 src="https://rcm-fe.amazon-adsystem.com/e/cm?ref=qf_sp_asin_til&t=monochromeg03-22&m=amazon&o=9&p=8&l=as1&IS2=1&detail=1&asins=4152098996&linkId=c80e18f474ae1d11bcfb8c9f739235ab&bc1=ffffff&lt1=_blank&fc1=333333&lc1=0066c0&bg1=ffffff&f=ifr"></iframe></div><footer class=tag><i class="fa fa-tags tag-icon"></i><ul><li><a class=tag-link href=/tags/%E6%83%85%E5%A0%B1%E8%A6%81%E6%B1%82>情報要求</a></li></ul><div class=clear></div></footer></div></article><article><div class=post><header><h1><a href=https://blog.monochromegane.com/blog/2019/12/31/2019/>2019</a></h1><time><div class=day><i class="fa fa-calendar-o day-icon"></i>2019-12-31</div></time></header><div class=post-inner><p>今年は研究とGo言語三昧だった。
特にGo言語については、福岡でGoConを開催し、GopherCon2019で初の海外カンファレンスに登壇した。
大規模カンファレンスの主催も海外の大きなカンファレンスでの登壇も初めての経験で準備もプレッシャーも大変だったが、多くの人と笑いながら協力しながらなんとか達成することができたと思う。
これらの経験は自分の行動の幅を世界基準に広げるにあたって大きな自信につながった。
加えて、コミュニティ活動として主催するFukuoka.goを他の地方コミュニティと同時開催したり、Go言語教室を招いたり、OSS Gateのメンター、Fukuoka.LTの運営をやったりと精力的に福岡のコミュニティを全国とつなげ、盛り上げることができた。
来年もGo言語を武器にどんどん活動していきたい。</p><p>研究については、当初目標だったジャーナルには残念ながら不採録となったものの、改めて研究を発展させ年内に再度投稿することができた。
今年執筆した論文とそのフィードバックから、研究の背景（動機、位置付け、従来課題の整理）は一定のレベルで書けるようになったのではないかと感じる。
一方で、提案手法とその評価に関する指摘の割合が多くなってきており、改めて提案手法の貢献を明確にできるよう考え抜いていかなければならない。
これまでの研究を通して「常に変化しうる多数の環境に対する自律適応的なシステムとその仕組み」が背景にあるのではないかと考えており、来年はこの観点でのサーベイと体系化を進めていきたい。</p><p>2019年をかけて、多くのことを達成することができた。
特に精神的な面では強くなれたのでないかと思う。
上期の前半は、研究で実績が出ないことに対する焦りや力不足でまたも袋小路に入ってしまったが、アドバイスや助力いただけたことで立て直すことができた。
それでも、何かをやることに対する漠然とした恐怖や、過度な専念などいくつかの弱体化がかかっていたように思う。
結局は、無能だと判断されたくないだとか、集中することができれば大きな成果を出せるはずだとか、心の奥底に対外的な評価が中心に据えられて、自己評価とのギャップと相まって動けなくなっていたことが原因だと思い至り、過去の理性の人のエントリを見返しつつ、自分を大切に、なすべきことをやっていけるよう少しづつ冷静になれた。
周りからの評価を恐れてやるべきことを見失ったり曲げてしまうのはとても悲しいことだし、
生きている以上、やることは常に発生するのだから、これらを後回しにすることは長期的には専念にはならないし、
色々なことに向き合う必要があるのだから、人や結果に過度にひきづられることを言い訳にせずに個々の事象をある程度独立させて淡々とこなして行くのが良いのだろう。</p><p>来年は、数学、英語、サーベイを継続的にこなしつつジャーナルを通して博士課程に挑戦する。
また、トップダウンの視点をもって行動の意義を共有することで影響力を高めていこうと思う。
2020年もよろしくお願いします。</p><h1 id=実績>実績</h1><p>以下、実績を列挙する。</p><h2 id=論文>論文</h2><p>国内査読無し論文が2本と国内査読付きポスター発表が1本。執筆としては査読付き論文が2本。うち1本が不採録で、投稿中が1本。</p><ol><li>三宅 悠介, 栗林 健太郎, Kaburaya AutoScaler: 多環境での運用性を考慮した自律適応型オートスケーリング制御系, インターネットと運用技術シンポジウム論文集, 2019, pp.114-115, Nov 2019. <a href=https://rand.pepabo.com/papers/iots2019-miyakey.pdf>[論文]</a> <a href=https://speakerdeck.com/monochromegane/iots2019-kaburaya-autoscaler>[発表資料]</a></li><li>三宅 悠介, 阿部 博, 栗林 健太郎, <a href=http://id.nii.ac.jp/1001/00199414/>なめらかなセキュリティを目指して</a>, 研究報告インターネットと運用技術（IOT）, Vol.2019-IOT-47, pp.1-7, Sep 2019. <a href=https://rand.pepabo.com/papers/iot47-miyakey.pdf>[論文]</a> <a href=https://speakerdeck.com/monochromegane/toward-the-coherently-fittable-security>[発表資料]</a></li><li>三宅 悠介, 松本 亮介, <a href=http://id.nii.ac.jp/1001/00195696/>利用者の文脈に応じて継続的に推薦手法の選択を最適化する推薦システム</a>, 研究報告インターネットと運用技術（IOT）, Vol.2019-IOT-45, pp.1-7, May 2019. <a href=https://rand.pepabo.com/papers/iot45-miyakey.pdf>[論文]</a> <a href=https://speakerdeck.com/monochromegane/iot45-synapse>[発表資料]</a></li></ol><h2 id=国外発表>国外発表</h2><p>初の海外カンファレンス登壇。めでたい！</p><ul><li>Yusuke Miyake, <a href=https://www.gophercon.com/agenda/session/49010>Optimization for Number of goroutines Using Feedback Control</a>, <a href=https://www.gophercon.com/>GopherCon Marriott Marquis San Diego Marina, California</a>, July 2019. [<a href=https://speakerdeck.com/monochromegane/optimization-for-number-of-goroutines-using-feedback-control>資料</a>] [<a href=https://blog.monochromegane.com/blog/2019/07/25/gophercon_2019_kaburaya/>スピーカーノート</a>] [<a href=https://youtu.be/O_R7Nwsix1c>動画</a>]</li></ul><h2 id=国内発表>国内発表</h2><p>技術イベント、研究会での発表で計６回。</p><ol><li>三宅 悠介, <a href=https://speakerdeck.com/monochromegane/fukuokago14-flagen>コマンドラインオプションをパースするコードをコマンドラインオプションから生成するツールをつくった</a>, <a href=https://fukuokago.connpass.com/event/146447/>Fukuoka.go#14+Umeda.go</a>, 2019年10月.</li><li>三宅 悠介, <a href=https://blog.monochromegane.com/blog/2019/10/04/wsa5_kaburaya_autoscaler/>Kaburaya AutoScaler: 多環境での運用性を考慮した自律適応型オートスケーリング制御系</a>, <a href=https://websystemarchitecture.hatenablog.jp/entry/2019/07/30/172650>第五回 Webシステムアーキテクチャ研究会</a>, 2019年9月.</li><li>三宅 悠介, <a href=https://www.facebook.com/events/454332078445860/>「エンジニアコミュニティの運営について」パネルディスカッション</a>, <a href=https://www.facebook.com/events/454332078445860/>Engineer Friendly Space</a>, 2019年7月.</li><li>三宅 悠介, <a href=https://speakerdeck.com/monochromegane/pepacon-night-ai-wg>AI（機械学習）ワーキンググループ 成果報告</a>, <a href=https://pepabo.connpass.com/event/128486/>ペパコンナイト</a>, 2019年5月. <a href="https://youtu.be/KKxHu5o01zw?t=4420">[動画]</a></li><li>三宅 悠介, <a href=https://speakerdeck.com/monochromegane/wsa-4-ebira>Ebira: アクセス負荷に応じて継続的にスケーリング基準を最適化する汎用オートスケーリング機構</a>, <a href=https://websystemarchitecture.hatenablog.jp/entry/2019/02/26/100725>第四回 Webシステムアーキテクチャ研究会</a>, 2019年4月.</li><li>三宅 悠介, <a href=https://speakerdeck.com/monochromegane/understanding-go-language-server>Go language serverを理解する</a>, <a href=https://fukuokago.connpass.com/event/118377/>Go 1.12 Release Party in Fukuoka</a>, 2019年2月. <a href=https://crash.academy/video/722/2051>[動画]</a></li><li>三宅 悠介, <a href=https://speakerdeck.com/monochromegane/dragon-imports>dragon-importsで爆速goimports生活 - プロジェクト Go modules</a>, <a href=https://fukuokago.connpass.com/event/112073/>Fukuoka.go#13+Okayama.go</a>, 2019年2月.</li></ol><h2 id=oss>OSS</h2><p>Kaburayaを中心に自律適応的な仕組みに向けての知見を深めていった。また、研究系のシミュレーションが増えてきた。</p><ul><li><a href=https://github.com/monochromegane/kaburaya>Kaburaya</a>: Kaburaya optimize the number of goroutines by feedback control.</li><li><a href=https://github.com/monochromegane/queuing-theory-simulator>queuing-theory-simulator</a>: Queuing theory simulator in Go.</li><li><a href=https://github.com/monochromegane/kaburaya-autoscaler>Kaburaya AutoScaler</a>: An autoscaler controller based on queuing theory.</li><li><a href=https://github.com/monochromegane/flagen>flagen</a>: A command line option parser generator using command line option.</li></ul><h2 id=コミュニティ活動>コミュニティ活動</h2><p>Goを中心に精力的に活動できた。特に全国規模のカンファレンスを福岡で主催したり、地方のGoコミュニティ同士を繋いだり福岡以外へも活動の幅が広がっている。
また、OSS GateやFukuoka.LTへの参加を通して福岡全体の盛り上げにも協力できたかなと思う。</p><ul><li><a href=https://fukuokago.connpass.com/event/112073/>Fukuoka.go#13+Okayama.go</a></li><li><a href=https://fukuokago.connpass.com/event/118377/>Go 1.12 Release Party in Fukuoka</a></li><li><a href=https://oss-gate-fukuoka.connpass.com/event/121702/>OSS Gate Fukuoka - 2 commits -</a></li><li><a href=https://fukuokago.connpass.com/event/130797/>Go Conference&rsquo;19 Summer in Fukuoka</a></li><li><a href=https://fukuokago.connpass.com/event/139929/>Go 1.13 Release Party in Fukuoka /w Tokyo</a></li><li><a href=https://fukuokago.connpass.com/event/143986/>「はじめてのGo言語教室」〜晩夏の岩田プロ福岡出張スペシャル〜</a></li><li><a href=https://fukuokago.connpass.com/event/146447/>Fukuoka.go#14+Umeda.go</a></li><li><a href=https://fukuokago.connpass.com/event/155369/>Fukuoka.LT（福岡のいろんなコミュニティを集められるだけ集めて合同忘年LT大会）</a></li></ul><h2 id=出版物等への寄稿>出版物等への寄稿</h2><p>前作に引き続きガッツリと査読に関わらせていただいた。</p><ul><li>書籍査読: スマートニュース株式会社　立石 賢吾, やさしく学ぶ ディープラーニングがわかる数学のきほん ~アヤノ＆ミオと学ぶ ディープラーニングの理論と数学、実装~, マイナビ出版, 2019年07月31日. <a href="https://book.mynavi.jp/ec/products/detail/id=104970">ISBN：978-4-8399-6837-3</a></li></ul><h2 id=ブログ>ブログ</h2><p>13本。一時期は日記を書いていたが、考えをまとめる練習にはつながらなかったかもしれない。
実績に加えてどうしてそのような活動に至ったのかについてもトップダウンの視点で書いていきたい。</p><ul><li><a href=https://blog.monochromegane.com/blog/2019/11/27/guidepost_for_writing_paper/>論文執筆の道しるべ</a></li><li><a href=https://blog.monochromegane.com/blog/2019/10/25/fukuokago14_flagen/>コマンドラインオプションをパースするコードをコマンドラインオプションから生成するツールをつくった</a></li><li><a href=https://blog.monochromegane.com/blog/2019/10/11/random_number_gen_using_go/>待ち行列理論に使われる分布に従う乱数をGo言語で生成する</a></li><li><a href=https://blog.monochromegane.com/blog/2019/10/04/wsa5_kaburaya_autoscaler/>Kaburaya AutoScaler: 多環境での運用性を考慮した自律適応型オートスケーリング制御系</a></li><li><a href=https://blog.monochromegane.com/blog/2019/08/11/toward_the_oversea_conference/>初めて海外カンファレンス登壇するためにやったこと</a></li><li><a href=https://blog.monochromegane.com/blog/2019/08/10/gophercon_2019/>GopherCon 2019で初の海外カンファレンス登壇をしてきました</a></li><li><a href=https://blog.monochromegane.com/blog/2019/08/02/gocon_fukuoka/>福岡でGoConを開催した</a></li><li><a href=https://blog.monochromegane.com/blog/2019/07/25/gophercon_2019_kaburaya/>GopherCon 2019: Optimization for Number of goroutines Using Feedback Control</a></li><li><a href=https://blog.monochromegane.com/blog/2019/04/14/wsa_4_ebira/>Ebira: アクセス負荷に応じて継続的にスケーリング基準を最適化する汎用オートスケーリング機構</a></li><li><a href=https://blog.monochromegane.com/blog/2019/03/01/the-things-coherently-fittable-system-looks-ahead-to/>なめらかなシステムの見据えるもの。個人的考察</a></li><li><a href=https://blog.monochromegane.com/blog/2019/02/25/entrance-of-research/>わかるとわからないの間</a></li><li><a href=https://blog.monochromegane.com/blog/2019/02/23/remote-study-group/>拠点間勉強会を接続するリモート勉強会への誘い</a></li><li><a href=https://blog.monochromegane.com/blog/2019/01/17/oss-gate-as-supporter/>OSS Gateにサポーターとして参加した（東京・福岡）</a></li></ul></div><footer class=tag><i class="fa fa-tags tag-icon"></i><ul><li><a class=tag-link href=/tags/%E3%81%B5%E3%82%8A%E3%81%8B%E3%81%88%E3%82%8A>ふりかえり</a></li></ul><div class=clear></div></footer></div></article><article><div class=post><header><h1><a href=https://blog.monochromegane.com/blog/2019/11/27/guidepost_for_writing_paper/>論文執筆の道しるべ</a></h1><time><div class=day><i class="fa fa-calendar-o day-icon"></i>2019-11-27</div></time></header><div class=post-inner><p>論文執筆にあたり自分向けの指針のようなものがまとまってきたのでメモしておく。
以下の内容の一枚もののサマリがあると良いのではないか。</p><ol><li>背景: なぜその課題に取り組むか</li><li>リサーチクエスチョン: 何を解決したいのか</li><li>従来手法の整理: これまではその課題をどう解決していたのか、これまでのやり方に残った課題は何か</li><li>提案手法: 残った課題をどう解決したか</li><li>評価: 残った課題は定量的にどの程度解決したか</li></ol><p>ここで</p><ul><li>2.のリサーチクエスチョンと3.従来手法の課題を混同しない。</li><li>3.従来手法の課題、4.提案手法、5.評価はもれなく対応する。つまり、課題が3つであれば提案手法もそれらに対する解決アプローチを提示し、それぞれに評価が行われている。もしくは課題のうち、いくつを解決するものかを明示する。</li><li>これらは一枚まとめにすると良い。シーケンシャルな文章とこのまとめを交互に見直すことで道筋を外れずに具体と抽象を行き来できる（といいな）</li></ul><p>上手な査読者のレビューは提案内容を除けば上記の観点での過不足を指摘しているように思える。
指摘事項に対する個別対処では、論文執筆力の向上はのぞめないのでこのような枠組みも意識して一定の水準での論文を執筆できるようにもなっていきたい。</p><p>また、議論から多くを得るためには</p><ul><li>分野のやや異なる人とは1.背景の説明を長めに取ることで自分の思い込みや暗黙の前提が浮き彫りにされ読み易い論文になる</li><li>分野の同じ人とは同じ課題意識を持つとみなし、従来手法の整理と提案手法のアプローチを中心に議論する</li><li>差読者目線を持つ人とは、リサーチクエスチョンを一言で伝わるか、それが解決したかをできるだけ手短に説明する</li></ul><p>のような感じに使い分けると良いのではないかなと考えている。</p></div><footer class=tag><i class="fa fa-tags tag-icon"></i><ul><li><a class=tag-link href=/tags/%E8%AB%96%E6%96%87>論文</a></li></ul><div class=clear></div></footer></div></article><a href=/post/ class=archives>Archives</a></div></div><footer class=footer><div class=author></div><p class=author-name><a href=https://twitter.com/monochromegane target=_blank>@monochromegane</a></p><p>monochromegane (モノクロめがね) と申します。</p><p>最近はもっぱらGoに夢中です。普段は研究開発をやっています。</p><ul class=social><li><a href=https://twitter.com/monochromegane target=_blank><i class="fa fa-twitter"></i></a></li><li><a href=https://github.com/monochromegane target=_blank><i class="fa fa-github"></i></a></li><li><a href=/index.xml target=_blank><i class="fa fa-rss"></i></a></li></ul><p class=copyright><small>&copy; <span>Powered by <a href=http://gohugo.io target=_blank>Hugo</a>, Designed by <a href=https://twitter.com/keita_kawamoto target=_blank>&copy;keita_kawamoto</a></span></small></p></footer><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/go.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/vim.min.js></script><script>hljs.initHighlightingOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-38374674-1','auto');ga('send','pageview');</script></body></html>